# Generic NATS Server Configuration
# Pure infrastructure - no service-specific logic
# Deploy this on your dedicated NATS server

# Server settings
server_name: "distributed-processing-nats"
host: "0.0.0.0"
port: 4222

# Enable JetStream for all processing services
jetstream: {
    # Store data in /var/lib/nats
    store_dir: "/var/lib/nats"
    # Max memory: 2GB (adjust based on server capacity)
    max_memory_store: 2147483648
    # Max file storage: 50GB (adjust based on server capacity)
    max_file_store: 53687091200
}

# Token-based authentication
authorization {
    # Generate a secure token: openssl rand -hex 32
    token: "your-secure-token-here-replace-with-random-64-char-string"
}

# Logging
log_file: "/var/log/nats/nats-server.log"
logtime: true
debug: false
trace: false

# Limits - generous for multiple service types
max_payload: 16MB
max_connections: 10000
max_subscriptions: 100000

# Monitoring endpoint
http_port: 8222

# Cluster settings (for future HA setup)
# cluster {
#     name: "distributed-processing"
#     listen: "0.0.0.0:6222"
#     routes: [
#         nats-route://nats1:6222
#         nats-route://nats2:6222
#     ]
# } 